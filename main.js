(()=>{"use strict";function e(e,t,r,n,o){var c=document.querySelector(o.cardTemplateSelector).content.querySelector(o.cardItemSelector).cloneNode(!0),p=c.querySelector(o.cardItemImageSelector),a=c.querySelector(o.cardItemTitleSelector),l=c.querySelector(o.removeButtonSelector),u=c.querySelector(o.likeButtonSelector);return p.src=e.link,a.textContent=e.name,p.alt=e.name,l.addEventListener("click",t),u.addEventListener("click",r),p.addEventListener("click",n),c}function t(e){e.target.closest(".card").remove()}function r(e){e.target.classList.toggle("card__like-button_is-active")}function n(e){"Escape"===e.key&&p(document.querySelector(".popup_is-opened"))}function o(e){e.target.classList.contains("popup_is-opened")&&p(e.target)}function c(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",n),e.addEventListener("click",o)}function p(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",n),e.removeEventListener("click",o)}var a=document.querySelector(".places__list"),l=document.querySelector(".profile__add-button"),u=document.querySelector(".popup_type_new-card"),d=u.querySelector(".popup__form"),i=document.querySelector(".profile__edit-button"),s=document.querySelector(".popup_type_edit"),_=s.querySelector(".popup__form"),m=document.querySelector(".profile__title"),y=document.querySelector(".profile__description"),v=document.querySelector(".popup_type_image"),S=v.querySelector(".popup__image"),f=v.querySelector(".popup__caption"),k={cardTemplateSelector:"#card-template",cardItemSelector:".card",cardItemImageSelector:".card__image",cardItemTitleSelector:".card__title",removeButtonSelector:".card__delete-button",likeButtonSelector:".card__like-button"},q=document.querySelectorAll(".popup__close"),g=document.querySelectorAll(".popup");function L(e){c(v),S.src=e.target.src,S.alt=e.target.alt,f.textContent=e.target.alt}[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg",alt:"Вид на горы Архыза."},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg",alt:"Река, окаймленная заснеженными крутыми берегами, в Челябинской области."},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg",alt:"Вид сверху на ряды серых панельных домов в Иваново."},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg",alt:"Равнина с небольшой растительностью и горами вдали на Камчатке."},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg",alt:"Вид на колею железной дороги, уходящей вдаль, среди леса в Холмогорском районе."},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg",alt:"Скалистый берег Байкала."}].forEach((function(n){a.append(e(n,t,r,L,k))})),i.addEventListener("click",(function(){c(s),_.querySelector(".popup__input_type_name").value=m.textContent,_.querySelector(".popup__input_type_description").value=y.textContent})),l.addEventListener("click",(function(){return c(u)})),q.forEach((function(e){e.addEventListener("click",(function(e){return p(e.target.closest(".popup"))}))})),g.forEach((function(e){e.classList.add("popup_is-animated")})),_.addEventListener("submit",(function(e){e.preventDefault(),m.textContent=_.querySelector(".popup__input_type_name").value,y.textContent=_.querySelector(".popup__input_type_description").value,p(s)})),d.addEventListener("submit",(function(n){n.preventDefault();var o=d.querySelector(".popup__input_type_card-name"),c=d.querySelector(".popup__input_type_url"),l={name:o.value,link:c.value,alt:o.value};a.prepend(e(l,t,r,L,k)),d.reset(),p(u)}))})();